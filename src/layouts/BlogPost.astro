---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';

// Replace heroImage with image
const { title, description, pubDate, updatedDate, image } = Astro.props;
---

<BaseHead title={title} description={description} />
<Header />
<main class="max-w-3xl mx-auto px-4 py-8">
	<article class="prose mx-auto">
		{ /* Hero image */ }
		<figure class="hero-image mb-8">
			<img
				src={image || '/assets/blog-placeholder-1.jpg'}
				alt={title}
				class="w-full rounded-lg shadow-md"
				loading="lazy"
				onError={(e) => { e.target.src = '/assets/blog-placeholder-1.jpg'; }}
			/>
		</figure>
		<div class="meta text-gray-500 text-sm mb-4">
			<FormattedDate date={pubDate} />
			{updatedDate && <span> â€¢ Updated on <FormattedDate date={updatedDate} /></span>}
		</div>
		<h1 class="text-3xl font-bold mb-4">{title}</h1>
		<slot />
	</article>
</main>
<Footer />
